<!DOCTYPE html>
<html>
<head>
    <title>Dashboard</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <h1>Dashboard</h1>
    <a href="/logout">Logout</a> | <a href="/set_budget">Set Budget</a> | <a href="/add_income">Add Income</a> | <a href="/add">Add New Budget Entry</a>
    <h2>Financial Overview</h2>
    <p><strong>Total Budget:</strong> {{ total_budget }}</p>
    <p><strong>Total Income:</strong> {{ total_income }}</p>
    <p><strong>Total Expenses:</strong> {{ total_budget + total_income - remaining_budget }}</p>
    <p><strong>Remaining Budget:</strong> {{ remaining_budget }}</p>
    <form action="/search" method="get">
        <input type="text" name="query" placeholder="Search by Category">
        <button type="submit">Search</button>
    </form>
    <ul>
        {% for item in budget %}
        <li>
            {{ item.category }}: {{ item.amount }} - {{ item.description }} ({{ item.date }})
            <a href="/edit/{{ item._id }}">Edit</a>
            <form action="/delete/{{ item._id }}" method="post" style="display: inline;">
                <button type="submit">Delete</button>
            </form>
        </li>
        {% endfor %}
    </ul>
</body>
</html>
